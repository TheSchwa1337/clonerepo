<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåê Schwabot Dynamic Timing Dashboard - Control Center</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%);
            color: #ffffff;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 255, 0, 0.1);
            border-radius: 15px;
            border: 2px solid #00ff00;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #00ff00;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.8;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .card h3 {
            color: #00ff00;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-running { background-color: #00ff00; }
        .status-stopped { background-color: #ff0000; }
        .status-demo { background-color: #ffff00; }
        .status-unknown { background-color: #888888; }
        
        .control-center {
            grid-column: 1 / -1;
            background: rgba(0, 255, 0, 0.05);
            border: 2px solid #00ff00;
        }
        
        .control-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .tab-button {
            background: none;
            border: none;
            color: #ffffff;
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .tab-button.active {
            border-bottom-color: #00ff00;
            background: rgba(0, 255, 0, 0.1);
        }
        
        .tab-button:hover {
            background: rgba(0, 255, 0, 0.1);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .control-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }
        
        .control-section {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .control-section h4 {
            color: #00ff00;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .button {
            background: linear-gradient(45deg, #00ff00, #00cc00);
            color: #000000;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 0, 0.3);
        }
        
        .button:disabled {
            background: #666666;
            cursor: not-allowed;
            transform: none;
        }
        
        .button.danger {
            background: linear-gradient(45deg, #ff0000, #cc0000);
        }
        
        .button.warning {
            background: linear-gradient(45deg, #ffff00, #cccc00);
            color: #000000;
        }
        
        .metric {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
            padding: 5px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .metric-label {
            font-weight: bold;
            color: #cccccc;
        }
        
        .metric-value {
            color: #00ff00;
            font-weight: bold;
        }
        
        .chart-container {
            height: 300px;
            margin: 15px 0;
        }
        
        .recommendation {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid #00ff00;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
        }
        
        .recommendation h4 {
            color: #00ff00;
            margin-bottom: 10px;
        }
        
        .confidence-bar {
            width: 100%;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff0000, #ffff00, #00ff00);
            transition: width 0.3s ease;
        }
        
        .device-list {
            max-height: 200px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 10px;
        }
        
        .device-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            color: #00ff00;
        }
        
        .error {
            color: #ff0000;
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid #ff0000;
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0;
        }
        
        .success {
            color: #00ff00;
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid #00ff00;
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0;
        }
        
        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .control-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåê Schwabot Dynamic Timing Dashboard</h1>
            <p>Unified Control Center - Advanced Options & Visual Controls Integration</p>
        </div>

        <div class="dashboard-grid">
                <div class="card">
                <h3>üìä System Status</h3>
                <div id="system-status">
                    <div class="loading">Loading system status...</div>
            </div>
        </div>

            <div class="card">
                <h3>üìà Performance Metrics</h3>
                <div id="performance-metrics">
                    <div class="loading">Loading metrics...</div>
                </div>
            </div>
            
            <div class="card">
                <h3>üìâ Profit Chart</h3>
                <div id="profit-chart" class="chart-container"></div>
            </div>
            
            <div class="card">
                <h3>üéØ Trading Recommendations</h3>
                <div id="recommendations">
                    <div class="loading">Loading recommendations...</div>
                </div>
            </div>
        </div>

        <!-- CONTROL CENTER -->
        <div class="card control-center">
            <h3>üéõÔ∏è Advanced Control Center</h3>
            
            <div class="control-tabs">
                <button class="tab-button active" onclick="showTab('system')">System Control</button>
                <button class="tab-button" onclick="showTab('usb')">USB Management</button>
                <button class="tab-button" onclick="showTab('compression')">Compression</button>
                <button class="tab-button" onclick="showTab('api-keys')">API Keys</button>
                <button class="tab-button" onclick="showTab('visual')">Visual Controls</button>
                <button class="tab-button" onclick="showTab('launch')">Launch Tools</button>
            </div>
            
            <!-- System Control Tab -->
            <div id="system-tab" class="tab-content active">
                <div class="control-grid">
                    <div class="control-section">
                        <h4>üöÄ System Control</h4>
                        <button class="button" onclick="startSystem()">Start System</button>
                        <button class="button danger" onclick="stopSystem()">Stop System</button>
                        <button class="button warning" onclick="explainDecision()">Explain Decision</button>
                    </div>
                    
                    <div class="control-section">
                        <h4>üìä Real-time Data</h4>
                        <div id="realtime-metrics">
                            <div class="loading">Loading...</div>
                        </div>
                </div>
            </div>
        </div>

            <!-- USB Management Tab -->
            <div id="usb-tab" class="tab-content">
                <div class="control-grid">
                    <div class="control-section">
                        <h4>üíæ USB Device Management</h4>
                        <button class="button" onclick="detectUSB()">Detect USB Devices</button>
                        <button class="button" onclick="setupUSB()">Setup USB Storage</button>
                        <button class="button" onclick="getUSBStatus()">Refresh Status</button>
                    </div>
                    
                    <div class="control-section">
                        <h4>üì± USB Devices</h4>
                        <div id="usb-devices" class="device-list">
                            <div class="loading">No devices detected</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Compression Tab -->
            <div id="compression-tab" class="tab-content">
                <div class="control-grid">
                    <div class="control-section">
                        <h4>üóúÔ∏è Compression Control</h4>
                        <button class="button" onclick="getCompressionStatus()">Get Status</button>
                        <button class="button" onclick="getCompressionSuggestions()">Get Suggestions</button>
                    </div>
                    
                    <div class="control-section">
                        <h4>üìä Compression Stats</h4>
                        <div id="compression-stats">
                            <div class="loading">Loading compression stats...</div>
                        </div>
                </div>
            </div>
        </div>

            <!-- API Keys Tab -->
            <div id="api-keys-tab" class="tab-content">
                <div class="control-grid">
                    <div class="control-section">
                        <h4>üîë API Key Management</h4>
                        <button class="button" onclick="getAPIKeysStatus()">Check Status</button>
                        </div>
                        
                    <div class="control-section">
                        <h4>üè¢ Configured Exchanges</h4>
                        <div id="configured-exchanges">
                            <div class="loading">Loading exchange info...</div>
                    </div>
                </div>
            </div>
        </div>

            <!-- Visual Controls Tab -->
            <div id="visual-tab" class="tab-content">
                <div class="control-grid">
                    <div class="control-section">
                        <h4>üé® Visual Controls</h4>
                        <button class="button" onclick="getVisualControlsStatus()">Get Status</button>
                        <button class="button" onclick="updateVisualControls()">Update Settings</button>
                    </div>
                    
                    <div class="control-section">
                        <h4>‚öôÔ∏è Visual Settings</h4>
                        <div id="visual-settings">
                            <div class="loading">Loading visual settings...</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Launch Tools Tab -->
            <div id="launch-tab" class="tab-content">
                <div class="control-grid">
                    <div class="control-section">
                        <h4>üöÄ Launch Tools</h4>
                        <button class="button" onclick="launchAdvancedOptions()">Advanced Options GUI</button>
                        <button class="button" onclick="launchVisualControls()">Visual Controls GUI</button>
                        <button class="button" onclick="launchMainLauncher()">Main Launcher</button>
                    </div>
                    
                    <div class="control-section">
                        <h4>üìã System Information</h4>
                        <div id="system-info">
                            <div class="loading">Loading system info...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Initialize Socket.IO
        const socket = io();
        
        // Global state
        let dashboardData = {};
        let historicalData = {};
        let recommendations = [];
        
        // Tab management
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');
        }
        
        // Socket.IO event handlers
        socket.on('connect', function() {
            console.log('Connected to dashboard');
            loadInitialData();
        });
        
        socket.on('dashboard_update', function(data) {
            dashboardData = data;
            updateDashboard();
        });
        
        socket.on('historical_update', function(data) {
            historicalData = data;
            updateCharts();
        });
        
        socket.on('recommendation_update', function(data) {
            recommendations = [data];
            updateRecommendations();
        });
        
        // API functions
        async function apiCall(endpoint, method = 'GET', data = null) {
            try {
                const options = {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json'
                    }
                };
                
                if (data) {
                    options.body = JSON.stringify(data);
                }
                
                const response = await fetch(endpoint, options);
                return await response.json();
            } catch (error) {
                console.error('API call failed:', error);
                return { error: error.message };
            }
        }
        
        // Load initial data
        async function loadInitialData() {
            // Load system status
            const status = await apiCall('/api/status');
            if (!status.error) {
                dashboardData = status;
                updateDashboard();
            }
            
            // Load historical data
            const historical = await apiCall('/api/historical');
            if (!historical.error) {
                historicalData = historical;
                updateCharts();
            }
            
            // Load recommendations
            const recs = await apiCall('/api/recommendations');
            if (!recs.error) {
                recommendations = recs;
                updateRecommendations();
            }
            
            // Load advanced controls status
            const advancedStatus = await apiCall('/api/advanced/controls/status');
            if (!advancedStatus.error) {
                updateAdvancedControlsStatus(advancedStatus);
            }
        }
        
        // Update dashboard display
        function updateDashboard() {
            // Update system status
            const statusHtml = `
                <div class="metric">
                    <span class="metric-label">Status:</span>
                    <span class="metric-value">
                        <span class="status-indicator status-${dashboardData.system_status}"></span>
                        ${dashboardData.system_status.toUpperCase()}
                    </span>
                </div>
                <div class="metric">
                    <span class="metric-label">Regime:</span>
                    <span class="metric-value">${dashboardData.current_regime}</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Uptime:</span>
                    <span class="metric-value">${dashboardData.system_uptime}s</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Last Update:</span>
                    <span class="metric-value">${new Date(dashboardData.last_update).toLocaleTimeString()}</span>
                </div>
            `;
            document.getElementById('system-status').innerHTML = statusHtml;
            
            // Update performance metrics
            const metricsHtml = `
                <div class="metric">
                    <span class="metric-label">Rolling Profit:</span>
                    <span class="metric-value">${(dashboardData.rolling_profit * 100).toFixed(2)}%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Timing Accuracy:</span>
                    <span class="metric-value">${(dashboardData.timing_accuracy * 100).toFixed(1)}%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Total Signals:</span>
                    <span class="metric-value">${dashboardData.total_signals}</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Successful Signals:</span>
                    <span class="metric-value">${dashboardData.successful_signals}</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Volatility:</span>
                    <span class="metric-value">${(dashboardData.current_volatility * 100).toFixed(2)}%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Momentum:</span>
                    <span class="metric-value">${(dashboardData.current_momentum * 100).toFixed(2)}%</span>
                </div>
            `;
            document.getElementById('performance-metrics').innerHTML = metricsHtml;
            
            // Update real-time metrics
            const realtimeHtml = `
                <div class="metric">
                    <span class="metric-label">USB Status:</span>
                    <span class="metric-value">${dashboardData.usb_status}</span>
                </div>
                <div class="metric">
                    <span class="metric-label">API Keys:</span>
                    <span class="metric-value">${dashboardData.api_keys_configured ? 'Configured' : 'Not Configured'}</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Compression:</span>
                    <span class="metric-value">${dashboardData.compression_active ? 'Active' : 'Inactive'}</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Visual Controls:</span>
                    <span class="metric-value">${dashboardData.visual_controls_active ? 'Active' : 'Inactive'}</span>
                </div>
            `;
            document.getElementById('realtime-metrics').innerHTML = realtimeHtml;
        }
        
        // Update charts
        function updateCharts() {
            if (historicalData.profit && historicalData.profit.length > 0) {
                const profitData = historicalData.profit.map(point => ({
                    x: new Date(point.timestamp * 1000),
                    y: point.value * 100,
                    type: 'scatter',
                    mode: 'lines+markers',
                    name: 'Profit %',
                    line: { color: '#00ff00' }
                }));
                
                const layout = {
                    title: 'Rolling Profit Over Time',
                    xaxis: { title: 'Time' },
                    yaxis: { title: 'Profit %' },
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    paper_bgcolor: 'rgba(0,0,0,0)',
                    font: { color: '#ffffff' }
                };
                
                Plotly.newPlot('profit-chart', profitData, layout);
            }
        }
        
        // Update recommendations
        function updateRecommendations() {
            if (recommendations.length > 0) {
                const rec = recommendations[0];
                const confidencePercent = (rec.confidence * 100).toFixed(0);
                
                const recHtml = `
                    <div class="recommendation">
                        <h4>${rec.action.replace('_', ' ').toUpperCase()}</h4>
                        <p><strong>Confidence:</strong> ${confidencePercent}%</p>
                        <div class="confidence-bar">
                            <div class="confidence-fill" style="width: ${confidencePercent}%"></div>
                        </div>
                        <p><strong>Reasoning:</strong> ${rec.reasoning}</p>
                        <p><strong>Expected Outcome:</strong> ${rec.expected_outcome}</p>
                        <p><strong>Timeframe:</strong> ${rec.timeframe}</p>
                    </div>
                `;
                document.getElementById('recommendations').innerHTML = recHtml;
            } else {
                document.getElementById('recommendations').innerHTML = '<div class="loading">No recommendations available</div>';
            }
        }
        
        // System control functions
        async function startSystem() {
            const result = await apiCall('/api/system/start', 'POST');
            if (!result.error) {
                showMessage('System started successfully', 'success');
            } else {
                showMessage('Failed to start system: ' + result.error, 'error');
            }
        }
        
        async function stopSystem() {
            const result = await apiCall('/api/system/stop', 'POST');
            if (!result.error) {
                showMessage('System stopped successfully', 'success');
            } else {
                showMessage('Failed to stop system: ' + result.error, 'error');
            }
        }
        
        async function explainDecision() {
            const result = await apiCall('/api/explain/decision');
            if (!result.error) {
                showMessage('Decision explanation: ' + result.explanation, 'success');
            } else {
                showMessage('Failed to get decision explanation: ' + result.error, 'error');
            }
        }
        
        // USB management functions
        async function detectUSB() {
            const result = await apiCall('/api/advanced/usb/detect', 'POST');
            if (!result.error) {
                updateUSBDevices(result.devices);
                showMessage('USB devices detected: ' + result.devices.length, 'success');
            } else {
                showMessage('Failed to detect USB devices: ' + result.error, 'error');
            }
        }
        
        async function setupUSB() {
            const result = await apiCall('/api/advanced/usb/setup', 'POST');
            if (!result.error) {
                showMessage('USB storage setup completed', 'success');
            } else {
                showMessage('Failed to setup USB storage: ' + result.error, 'error');
            }
        }
        
        async function getUSBStatus() {
            const result = await apiCall('/api/advanced/usb/status');
            if (!result.error) {
                showMessage('USB status: ' + result.status, 'success');
            } else {
                showMessage('Failed to get USB status: ' + result.error, 'error');
            }
        }
        
        function updateUSBDevices(devices) {
            if (devices && devices.length > 0) {
                const devicesHtml = devices.map(device => `
                    <div class="device-item">
                        <span>${device.name}</span>
                        <span>${device.size}</span>
                    </div>
                `).join('');
                document.getElementById('usb-devices').innerHTML = devicesHtml;
            } else {
                document.getElementById('usb-devices').innerHTML = '<div class="loading">No USB devices found</div>';
            }
        }
        
        // Compression functions
        async function getCompressionStatus() {
            const result = await apiCall('/api/advanced/compression/status');
            if (!result.error) {
                updateCompressionStats(result.devices);
                showMessage('Compression status updated', 'success');
            } else {
                showMessage('Failed to get compression status: ' + result.error, 'error');
            }
        }
        
        async function getCompressionSuggestions() {
            const result = await apiCall('/api/advanced/compression/suggestions');
            if (!result.error) {
                showMessage('Compression suggestions: ' + JSON.stringify(result.suggestions), 'success');
            } else {
                showMessage('Failed to get compression suggestions: ' + result.error, 'error');
            }
        }
        
        function updateCompressionStats(devices) {
            if (devices && Object.keys(devices).length > 0) {
                const statsHtml = Object.entries(devices).map(([name, stats]) => `
                    <div class="metric">
                        <span class="metric-label">${name}:</span>
                        <span class="metric-value">${stats.compression_ratio.toFixed(1)}%</span>
                    </div>
                `).join('');
                document.getElementById('compression-stats').innerHTML = statsHtml;
            } else {
                document.getElementById('compression-stats').innerHTML = '<div class="loading">No compression data available</div>';
            }
        }
        
        // API keys functions
        async function getAPIKeysStatus() {
            const result = await apiCall('/api/advanced/api-keys/status');
            if (!result.error) {
                updateConfiguredExchanges(result.exchanges);
                showMessage('API keys status: ' + (result.configured ? 'Configured' : 'Not configured'), 'success');
            } else {
                showMessage('Failed to get API keys status: ' + result.error, 'error');
            }
        }
        
        function updateConfiguredExchanges(exchanges) {
            if (exchanges && exchanges.length > 0) {
                const exchangesHtml = exchanges.map(exchange => `
                    <div class="device-item">
                        <span>${exchange}</span>
                        <span>‚úÖ</span>
                    </div>
                `).join('');
                document.getElementById('configured-exchanges').innerHTML = exchangesHtml;
            } else {
                document.getElementById('configured-exchanges').innerHTML = '<div class="loading">No exchanges configured</div>';
            }
        }
        
        // Visual controls functions
        async function getVisualControlsStatus() {
            const result = await apiCall('/api/advanced/visual-controls/status');
            if (!result.error) {
                updateVisualSettings(result.settings);
                showMessage('Visual controls status updated', 'success');
            } else {
                showMessage('Failed to get visual controls status: ' + result.error, 'error');
            }
        }
        
        async function updateVisualControls() {
            const data = {
                chart_config: {
                    width: 1200,
                    height: 800,
                    style: 'dark_background'
                },
                auto_refresh: true,
                refresh_interval: 5.0
            };
            
            const result = await apiCall('/api/advanced/visual-controls/update', 'POST', data);
            if (!result.error) {
                showMessage('Visual controls updated successfully', 'success');
            } else {
                showMessage('Failed to update visual controls: ' + result.error, 'error');
            }
        }
        
        function updateVisualSettings(settings) {
            if (settings) {
                const settingsHtml = `
                    <div class="metric">
                        <span class="metric-label">Auto Refresh:</span>
                        <span class="metric-value">${settings.auto_refresh ? 'Enabled' : 'Disabled'}</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Refresh Interval:</span>
                        <span class="metric-value">${settings.refresh_interval}s</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Active Layers:</span>
                        <span class="metric-value">${settings.active_layers.length}</span>
                    </div>
                `;
                document.getElementById('visual-settings').innerHTML = settingsHtml;
            } else {
                document.getElementById('visual-settings').innerHTML = '<div class="loading">No visual settings available</div>';
            }
        }
        
        // Launch functions
        async function launchAdvancedOptions() {
            const result = await apiCall('/api/advanced/launch/advanced-options');
            if (!result.error) {
                showMessage('Advanced options GUI launched', 'success');
            } else {
                showMessage('Failed to launch advanced options: ' + result.error, 'error');
            }
        }
        
        async function launchVisualControls() {
            const result = await apiCall('/api/advanced/launch/visual-controls');
            if (!result.error) {
                showMessage('Visual controls GUI launched', 'success');
                    } else {
                showMessage('Failed to launch visual controls: ' + result.error, 'error');
            }
        }
        
        async function launchMainLauncher() {
            const result = await apiCall('/api/advanced/launch/launcher');
            if (!result.error) {
                showMessage('Main launcher launched', 'success');
                    } else {
                showMessage('Failed to launch main launcher: ' + result.error, 'error');
            }
        }
        
        // Utility functions
        function showMessage(message, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = type;
            messageDiv.textContent = message;
            messageDiv.style.position = 'fixed';
            messageDiv.style.top = '20px';
            messageDiv.style.right = '20px';
            messageDiv.style.zIndex = '1000';
            messageDiv.style.minWidth = '300px';
            
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 5000);
        }
        
        function updateAdvancedControlsStatus(status) {
            const systemInfoHtml = `
                <div class="metric">
                    <span class="metric-label">USB Management:</span>
                    <span class="metric-value">${status.usb_available ? 'Available' : 'Not Available'}</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Compression:</span>
                    <span class="metric-value">${status.compression_available ? 'Available' : 'Not Available'}</span>
                </div>
                <div class="metric">
                    <span class="metric-label">API Keys:</span>
                    <span class="metric-value">${status.api_keys_available ? 'Available' : 'Not Available'}</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Visual Controls:</span>
                    <span class="metric-value">${status.visual_controls_available ? 'Available' : 'Not Available'}</span>
                </div>
            `;
            document.getElementById('system-info').innerHTML = systemInfoHtml;
        }
        
        // Auto-refresh every 5 seconds
        setInterval(() => {
            loadInitialData();
        }, 5000);
    </script>
</body>
</html> 